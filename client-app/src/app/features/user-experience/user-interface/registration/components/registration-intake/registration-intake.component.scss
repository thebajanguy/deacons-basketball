/* ===== VSAP brand tokens ===== */
$dark:   #050505;
$gold:   #ffd212;
$error:  #b00020;
$border: #d7d7d7;
$bg:     #fff;
$gray:   #777;
$light-gray:   #d7d7d7;

/* Center the entire form shell inside its parent */
.form-shell {
  margin-inline: auto;
  //max-width: 720px;   /* keeps it from going too wide */
  width: 100%;
  display: flex;
  flex-direction: column;
  align-items: center; /* centers grid + actions */
}
/* Grid layout for form fields */
.grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: clamp(12px, 2vw, 18px);
  width: 100%;              /* make it full width of form-shell */
  justify-content: center;  /* center grid tracks */
  align-items: start;
}
/* On smaller screens, collapse into single column */
@media (max-width: 768px) {
  .grid {
    grid-template-columns: 1fr;
  }
}
.card .card-header{ padding-top: 10px;}
.card.mb-3-top{ margin:0px;margin-top: 0px;}
.card.mb-3{ margin: 0px; margin-top: -30px;}

/************ FLEX GRID ************/
.grid-flex {
  display: grid;
  grid-template-columns: 1fr;
  gap: 1.5rem;

  @media (min-width: 992px) {
    grid-template-columns: 1fr; /* keep single column */
  }
}
/* Keep each card body 100% */
.card-flex {
  width: 100%;
}
/* Inside each card body: align controls horizontally */
.row.g-3-flex {
  display: flex;
  flex-wrap: wrap;
  gap: 1rem;
}
/* Floating label container */
.fl-flex {
  flex: 1 1 48%; /* two controls per row */
  position: relative;
  display: flex;
  flex-direction: column;
}
/* Full-width controls (e.g., textareas or long selects) */
.fl-flex.full-flex {
  flex: 1 1 100%;
}

/* Ensure selects and inputs take full width inside .fl */
.fl-flex input,
.fl-flex select,
.fl-flex textarea {
  width: 100%;
  box-sizing: border-box;
}

/* Optional: stack fields on small screens */
@media (max-width: 768px) {
  .fl-flex {
    flex: 1 1 100%;
  }
}

/* Floating label group */
.fl-flex {
  flex: 1 1 48%; /* two controls per row */
  position: relative;
  display: flex;
  flex-direction: column;


  /* Base field (input/textarea) */
  input, textarea, select {
    width: 100%;
    border: 1px solid $light-gray;
    border-radius: 10px;
    padding: 1.125rem .85rem .625rem; /* extra top so label can sit inside */
    font: inherit;
    background: $bg;
    outline: none;
    transition: border-color .15s ease, box-shadow .15s ease, background-color .15s ease;

    &:focus {
      border-color: $dark;
      box-shadow: 0 0 0 3px rgba(10,33,68,.12);
    }

    /* Autofill fix */
    &:-webkit-autofill {
      -webkit-box-shadow: 0 0 0 30px $bg inset;
      -webkit-text-fill-color: inherit;
      caret-color: inherit;
    }
  }

  /* Label sits over input when empty; floats when filled/focused */
  label {
    position: absolute;
    left: .75rem;
    top: .85rem;
    line-height: 1;
    font-size: 0.95rem;
    color: $gray;
    pointer-events: none;
    background: transparent;
    transform-origin: left top;
    transition: transform .15s ease, color .15s ease, top .15s ease, background-color .15s ease;
    padding: 0 .2rem;
  }

  /* Float on focus OR when there is content OR when parent has .filled */
  input:focus + label,
  textarea:focus + label,
  select:focus + label,
  input:not(:placeholder-shown) + label,
  textarea:not(:placeholder-shown) + label,
  select:has(option:checked) + label,
  &.filled label {
    top: .4rem;
    transform: scale(.82) translateY(-.25rem);
    color: $dark;
    background: $bg; /* so it “cuts” through borders if needed */
  }

  /* Error state */
  &.has-error {
    input, textarea, select {
      border-color: $error;
      box-shadow: 0 0 0 3px rgba(176,0,32,.12);
    }
    label {
      color: $error;
    }
  }

  /* Helpers */
  .hint {
    display: block;
    color: $gray;
    font-size: .85rem;
    margin-top: .25rem;
  }

  .error {
    display: block;
    color: $error;
    font-size: .85rem;
    margin-top: .25rem;
    align-items: left;
    justify-content: left;
    text-align: left;  
  }
}
/***********************************/



.field {
  display: flex;
  flex-direction: column;
  text-align: left;

  label {
    font-weight: 600;
    margin-bottom: .35rem;
  }

  input, textarea, select {
    width: 100%;
    border: 1px solid $light-gray;
    border-radius: 8px;
    padding: .65rem .8rem;
    font: inherit;
    background: $bg;
    outline: none;
    transition: border-color .15s ease, box-shadow .15s ease;
  }

  input:focus,
  textarea:focus,
  select:focus {
    border-color: $dark;
    box-shadow: 0 0 0 3px rgba(10,33,68,.12);
  }

  .hint {
    color: $gray;
    font-size: .85rem;
    margin-top: .25rem;
  }


  .error {
    display: block;
    color: $error;
    font-size: .85rem;
    margin-top: .25rem;
    align-items: left;
    justify-content: left;
    text-align: left;  
  }
}

.field.full {
  grid-column: 1 / -1;
}

/* Topic chip */
.chip {
  display: inline-flex;
  align-items: center;
  gap: .5rem;
  margin-top: .5rem;
  background: #f1f5fb;
  border: 1px solid #d3def5;
  padding: .35rem .6rem;
  border-radius: 999px;
  font-size: .9rem;

  .chip-remove {
    border: 0;
    background: transparent;
    font-size: 1rem;
    line-height: 1;
    cursor: pointer;
  }
}

/* Actions / button */
.actions {
  margin-top: 1rem;
  display: flex;
  justify-content: flex-start;
}

.btn {
  display: inline-flex;
  align-items: center;
  gap: .5rem;
  padding: .65rem 1rem;
  border: none;
  border-radius: 10px;
  cursor: pointer;
  font-weight: 600;
}

.btn[disabled] {
  opacity: .65;
  cursor: not-allowed;
}

.btn-primary {
  background: $dark;
  color: $bg;
}

/* Simple spinner */
.spinner {
  width: 1em;
  height: 1em;
  border: 2px solid currentColor;
  border-right-color: transparent;
  border-radius: 50%;
  display: inline-block;
  animation: spin .6s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

/* Honeypot */
.hp {
  position: absolute !important;
  left: -9999px !important;
  opacity: 0 !important;
}

/* Floating label group */
.fl {
  position: relative;
  display: block;

  /* Base field (input/textarea) */
  input, textarea, select {
    width: 100%;
    border: 1px solid $light-gray;
    border-radius: 10px;
    padding: 1.125rem .85rem .625rem; /* extra top so label can sit inside */
    font: inherit;
    background: $bg;
    outline: none;
    transition: border-color .15s ease, box-shadow .15s ease, background-color .15s ease;

    &:focus {
      border-color: $dark;
      box-shadow: 0 0 0 3px rgba(10,33,68,.12);
    }

    /* Autofill fix */
    &:-webkit-autofill {
      -webkit-box-shadow: 0 0 0 30px $bg inset;
      -webkit-text-fill-color: inherit;
      caret-color: inherit;
    }
  }

  /* Label sits over input when empty; floats when filled/focused */
  label {
    position: absolute;
    left: .75rem;
    top: .85rem;
    line-height: 1;
    font-size: 0.95rem;
    color: $gray;
    pointer-events: none;
    background: transparent;
    transform-origin: left top;
    transition: transform .15s ease, color .15s ease, top .15s ease, background-color .15s ease;
    padding: 0 .2rem;
  }

  /* Float on focus OR when there is content OR when parent has .filled */
  input:focus + label,
  textarea:focus + label,
  select:focus + label,
  input:not(:placeholder-shown) + label,
  textarea:not(:placeholder-shown) + label,
  select:has(option:checked) + label,
  &.filled label {
    top: .4rem;
    transform: scale(.82) translateY(-.25rem);
    color: $dark;
    background: $bg; /* so it “cuts” through borders if needed */
  }

  /* Error state */
  &.has-error {
    input, textarea, select {
      border-color: $error;
      box-shadow: 0 0 0 3px rgba(176,0,32,.12);
    }
    label {
      color: $error;
    }
  }

  /* Helpers */
  .hint {
    display: block;
    color: $gray;
    font-size: .85rem;
    margin-top: .25rem;
  }
  .error {
    display: block;
    color: $error;
    font-size: .85rem;
    margin-top: .25rem;
  }
}
/* Textarea can use a bit more top padding to balance label */
.fl.textarea textarea {
  padding-top: 1.35rem;
}
/* Grid helpers from your earlier styles */
.full { grid-column: 1 / -1; }
/* Reduce motion */
@media (prefers-reduced-motion: reduce) {
  .fl label,
  .fl input,
  .fl textarea,
  .fl select {
    transition: none !important;
  }
}

